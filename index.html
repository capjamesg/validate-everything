<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Validate Everything</title>
    <link href="https://jamesg.blog/assets/mascot/mascot.svg" rel="icon">
    <style>
        @font-face {
            font-family: "Fragment";
            src: url("https://jamesg.blog/assets/fonts/PPFragment-SansRegular.woff2");
        }
        * {
            font-family: "Fragment";
            color-scheme: light dark;
        }
        h1, h2, p {
            color: light-dark(black, rgb(234, 234, 234));
        }
        h3 + * {
            margin-top: 0;
        }
        :root {
            --color: light-dark(rgb(42, 142, 42), rgb(93, 219, 93));
        }
        h3 {
            margin-top: 2rem;
            margin-bottom: 0.5rem;
        }
        h2 {
            margin-top: 2rem;
            margin-bottom: 0.5rem;
            border-bottom: 1px solid white;
            width: max-content;
        }
        p, a {
            font-size: 1.5rem;
        }
        a {
            color: var(--color);
        }
        footer *, #about p {
            font-size: 1.25rem;
        }
        footer {
            margin-bottom: 5rem;
        }
        html {
            border-top: 0.5rem solid var(--color);
        }
        body {
            margin: auto;
            max-width: 50rem;
            padding: 0 1rem;
        }
        input {
            width: 100%;
            font-size: 1.5rem;
        }
        #item-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
        }
        #item-list li {
            padding-bottom: 0.5rem;
        }
        ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }
        form {
            display: flex;
            flex-direction: row;
            gap: 1rem;
        }
        input[type="submit"] {
            width: max-content;
            padding: 0 1rem;
        }
        input[type="url"] {
            padding: 0.25rem;
        }
        body:not(:has(#url:not(:invalid))) #items {
            display: none;
        }
        svg {
            fill: var(--color);
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    </style>
</head>
<body>
    <noscript>
        <p>This website requires JavaScript to work. You can still view the validator websites without JavaScript though.</p>
    </noscript>
    <header>
        <h1>Validate everything</h1>
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#000000" viewBox="0 0 256 256"><path d="M232.7,50.48C229,45.7,221.84,40,209,40c-16.85,0-38.46,11.28-57.81,30.16A140.07,140.07,0,0,0,136,87.53V56a8,8,0,0,0-16,0V87.53a140.07,140.07,0,0,0-15.15-17.37C85.49,51.28,63.88,40,47,40,34.16,40,27,45.7,23.3,50.48c-6.82,8.77-12.18,24.08-.21,71.2,6.05,23.83,19.51,33,30.63,36.42A44,44,0,0,0,128,205.27a44,44,0,0,0,74.28-47.17c11.12-3.4,24.57-12.59,30.63-36.42C239.63,95.24,244.85,66.1,232.7,50.48ZM92,208A28.12,28.12,0,0,1,88.86,152a8,8,0,1,0-1.76-15.9A43.64,43.64,0,0,0,66.36,144c-8.43.09-22-3.57-27.76-26.26C35.72,106.39,27,71.86,35.94,60.3,37.37,58.46,40.09,56,47,56c27.27,0,73,44.88,73,71.67V180A28,28,0,0,1,92,208ZM217.4,117.74c-5.77,22.69-19.33,26.34-27.77,26.26a43.6,43.6,0,0,0-20.74-7.95,8,8,0,1,0-1.76,15.9A28.11,28.11,0,1,1,136,180V127.67C136,100.88,181.69,56,209,56c6.95,0,9.66,2.46,11.1,4.3C229.05,71.86,220.28,106.39,217.4,117.74Z"></path></svg>
    </header>
    <form method="get" action="">
        <input type="url" id="url" name="url" placeholder="https://example.com" pattern="https://.*\.[a-zA-Z]{3,}.*" required autocomplete="off" />
        <input type="submit" value="Submit" />
    </form>
    <section id="items">
        <h2>Validators</h2>
        <section id="item-list">
            <section>
                <h3>Popular</h3>
                <ul>
                    <li><a href="https://pagespeed.web.dev/analysis?url=">PageSpeed Insights</a></li>
                    <li><a href="https://wave.webaim.org/report#/">WAVE a11y checker</a></li>
                </ul>
            </section>
            <section>
                <h3>Feeds</h3>
                <ul>
                    <li><a href="https://monocle.p3k.io/preview?url=">Check web feed (visual)</a></li>
                    <li><a href="https://validator.w3.org/feed/check.cgi?url=">Test RSS feed (developer)</a></li>
                </ul>
            </section>
            <section>
                <h3>Microformats</h3>
                <ul>
                    <li><a href="https://indiewebify.me/validate-rel-me/?url=">Check rel=me</a></li>
                    <li><a href="https://indiewebify.me/validate-h-card/?url=">Check h-card</a></li>
                    <li><a href="https://pin13.net/mf2/?url=">Parse microformats</a></li>
                </ul>
            </section>
            <section>
                <h3>Markup</h3>
                <ul>
                    <li><a href="https://search.google.com/test/rich-results?url=">Google Rich Results Test</a></li>
                    <li><a href="https://metatags.io/?url=">Test meta tags</a></li>
                    <li><a href="https://validator.nu/?doc=">Validate HTML</a></li>
                </ul>
            </section>
            <section>
                <h3>Potpurri</h3>
                <ul>
                    <li><a data-url="https://www.websitecarbon.com/website/" href="https://www.websitecarbon.com/website/">Test carbon impact</a></li>
                    <li><a href="https://securityheaders.com/?q=">Test security headers</a></li>
                    <li><a href="https://transparencyreport.google.com/safe-browsing/search?url=">Safe Browsing status</a></li>
                </ul>
            </section>
        </section>
    </section>
    <section id="about">
        <h2>About this site</h2>
        <p>Validate anything generates URLs for validating your website.</p>
        <p>This site lists validators for performance, accessibility, feeds, and more.</p>
    </section>
    <footer>
        <p>This site was made by <a href="https://jamesg.blog">capjamesg</a>. <a href="https://indieweb.org/tools">View more tools.</a> <a href="https://github.com/capjamesg/validate-everything">View source.</a> </p>
    </footer>
    <script>

        function setLinks (url) {
            params.set("url", url);
            history.replaceState(null, '', '?' + params + location.hash)
            var url = params.get("url");
            var links = document.getElementById("items").getElementsByTagName("a");
            for (var link of links) {
                var href = link.dataset.url ? link.dataset.url.replace("=", "") + "=" : link.href;
                var equals = href.indexOf("=");
                if (equals == -1) {
                    equals = href.indexOf("#/") + 1 // for wave.webaim.org
                }
                if (href.startsWith("view-source:")) {
                    href = "view-source:";
                }
                link.href = href.substring(0, equals + 1) + url;
            }
        }

        const params = new URLSearchParams(window.location.search);
        if (params.get("url")) {
            document.getElementById("url").value = params.get("url");
            setLinks(params.get("url"));
        }

        const addScheme = url => {
            if (url && !~url.indexOf("http")) url = `https://${url}`
            return url
        }

        document.getElementById("url").addEventListener("keyup", function (e) {
            if (e.keyCode === 13) {
                e.preventDefault()
                e.target.value = addScheme(e.target.value)
                setLinks(e.target.value)
            } else if (e.target.validity.valid) setLinks(e.target.value);
        })
    </script>
</body>
</html>
